# ResuBoost AI - Environment Configuration
# Copy this file to .env and fill in your values
# cp .env.example .env

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application name and version (used in API responses)
APP_NAME=ResuBoost AI
APP_VERSION=2.0.0

# Debug mode (set to false in production)
DEBUG=false

# =============================================================================
# SECURITY (REQUIRED - CHANGE IN PRODUCTION)
# =============================================================================

# Secret key for JWT token signing
# Generate a secure key: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-change-in-production

# JWT token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DATABASE
# =============================================================================

# SQLite (default for development)
DATABASE_URL=sqlite:///./data/resume_ai.db

# PostgreSQL (recommended for production)
# DATABASE_URL=postgresql://user:password@localhost:5432/resuboost

# PostgreSQL Connection Pool Settings (ignored for SQLite)
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10
# DB_POOL_TIMEOUT=30
# DB_POOL_RECYCLE=1800
# DB_POOL_PRE_PING=true
# DB_ECHO=false

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# Provider selection: openai, anthropic, google, ollama, mock
LLM_PROVIDER=openai

# Request timeout for LLM calls (seconds)
LLM_REQUEST_TIMEOUT=60

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini

# -----------------------------------------------------------------------------
# Anthropic (Claude) Configuration
# -----------------------------------------------------------------------------
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-haiku-20240307

# -----------------------------------------------------------------------------
# Google (Gemini) Configuration
# -----------------------------------------------------------------------------
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_MODEL=gemini-1.5-flash

# -----------------------------------------------------------------------------
# Ollama (Local) Configuration
# -----------------------------------------------------------------------------
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed origins for CORS (frontend URL)
# For development:
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# For production (replace with your domain):
# CORS_ORIGINS=["https://yourdomain.com"]

# =============================================================================
# RATE LIMITING
# =============================================================================

# General API rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Authentication endpoints (stricter limits)
AUTH_RATE_LIMIT_REQUESTS=5
AUTH_RATE_LIMIT_WINDOW=60

# AI endpoints (moderate limits due to cost)
AI_RATE_LIMIT_REQUESTS=20
AI_RATE_LIMIT_WINDOW=60

# =============================================================================
# BRUTE FORCE PROTECTION
# =============================================================================

# Maximum failed login attempts before rate limiting
AUTH_MAX_RECENT_FAILURES=5

# Time window for counting recent failures (minutes)
AUTH_RATE_LIMIT_WINDOW_MINUTES=15

# Total failed attempts before account lockout
AUTH_LOCKOUT_THRESHOLD=10

# Days to keep login attempt records
AUTH_CLEANUP_DAYS=30

# =============================================================================
# FILE UPLOAD LIMITS
# =============================================================================

# Maximum file size for uploads (MB)
MAX_FILE_SIZE_MB=10

# Maximum resume content length (characters)
MAX_RESUME_LENGTH=100000

# =============================================================================
# SECURITY MIDDLEWARE
# =============================================================================

# Enable/disable security features
ENABLE_RATE_LIMITING=true
ENABLE_SECURITY_HEADERS=true
ENABLE_INPUT_SANITIZATION=true
ENABLE_AUDIT_LOGGING=true

# HSTS settings (HTTP Strict Transport Security)
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000

# =============================================================================
# AUDIT LOGGING
# =============================================================================

# Path to audit database
AUDIT_DATABASE_PATH=data/audit.db

# Enable file-based audit logging (in addition to database)
ENABLE_FILE_AUDIT_LOGGING=false
AUDIT_LOG_FILE_PATH=logs/audit.log

# =============================================================================
# FRONTEND CONFIGURATION (Next.js)
# =============================================================================

# Backend API URL (for frontend to connect)
NEXT_PUBLIC_API_URL=http://localhost:8000

# =============================================================================
# REDIS (Optional - for distributed rate limiting)
# =============================================================================

# Redis connection URL (leave empty for in-memory rate limiting)
# REDIS_URL=redis://localhost:6379/0
# REDIS_KEY_PREFIX=resuboost:rate_limit
# REDIS_CONNECTION_TIMEOUT=5
# REDIS_SOCKET_TIMEOUT=5

# =============================================================================
# SENTRY ERROR MONITORING (Optional)
# =============================================================================

# Sentry DSN (leave empty to disable)
# SENTRY_DSN=https://your-sentry-dsn
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# =============================================================================
# DEMO ACCOUNT (Development Only)
# =============================================================================

# Show demo credentials on login page (set to false in production)
NEXT_PUBLIC_SHOW_DEMO_CREDENTIALS=true
# NEXT_PUBLIC_DEMO_USERNAME=demo
# NEXT_PUBLIC_DEMO_PASSWORD=demo123
